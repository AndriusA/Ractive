<!doctype html>
<html>
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>
	<link rel='stylesheet' href='../../min.css'>

	<title>Animation | Tutorials | Ractive.js</title>

	<style type='text/css'>
	.chart {
	width: 100%;
	height: 200px;
	border-bottom: 1px solid #aaa;
	overflow: hidden;
	padding-top: 2em;
}

.bar-outer {
	position: relative;
	height: 100%;
	float: left;
	text-align: center;
	-webkit-box-sizing: border-box;
	-moz-box-sizing: border-box;
	box-sizing: border-box;
}

.bar-inner {
	position: absolute;
	left: 10%;
	bottom: 0;
	width: 80%;
	height: 100%;
	border-radius: 3px 3px 0 0;
	box-shadow: 2px 2px 2px rgba(0,0,0,0.4);
}

.label {
	position: absolute;
	top: -2em;
	width: 100%;
	text-align: center;
	left: 0;
}
	</style>
</head>


<body>
	<ul class='small-menu'>
		<li><a href='../../index.html'>Home</a></li>
		<li><a href='../../tutorials'>Tutorials</a></li>
		<li><a href='../../docs'>API docs</a></li>
		<li><a href='../../download'>Download</a></li>
		<li><a href='https://github.com/rich-harris/Ractive'>GitHub</a></li>
	</ul>

	<div class='tutorial'>

		<div class='tutorial-header'>
			<h2>Animation</h2>

			<a class='prev' href='../two-way-data-binding'><span>&#9664;</span> prev</a>
			<a class='next' href='../svg'>next <span>&#9654;</span></a>
		</div>

		
		
		<div class='notes'>
			

			
			<p>You can animate any numerical value as simply as this: <code>view.animate( keypath, value );</code>
			
			<div class='console-container'>
				<div id='console-placeholder' class='console'>Please wait, page is loading...</div>
				<div id='console' class='console' style='display: none;'>
	bars.forEach( function ( datum, i ) {
	view.animate( 'bars[' + i + ']', Math.random() * 100, { easing: 'easeTo', duration: 600 } );
});

				</div>
				<div id='console-reset'>reset</div>
			</div>
		</div>

		<div class='main'>

			<div id='output' class='output block'>
				Please wait... page is loading
			</div>
			
			<pre id='template' class='template block prettyprint lang-html'>&lt;div class=&#39;chart&#39;&gt;
  {{#bars}}
  &lt;div class=&#39;bar-outer&#39; style=&#39;width: {{bars.length | divide}}%;&#39;&gt;
    &lt;div class=&#39;bar-inner&#39; style=&#39;height: {{.}}%; background-color: {{. | color}};&#39;&gt;
      &lt;span class=&#39;label&#39;&gt;{{. | toFixed[1]}}%&lt;&#x2F;span&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
  {{&#x2F;bars}}
&lt;&#x2F;div&gt;</pre>
			

			<pre id='script' class='script block prettyprint lang-js'>var bars, view;

&#x2F;&#x2F; define our data
bars = [ 50, 50, 50, 50, 50, 50, 50 ];

view = new Ractive({
  el: &#39;output&#39;,
  template: $(&#39;#template&#39;).text(),
  data: { bars: bars },
  formatters: {
    divide: function ( n ) { return 100 &#x2F; n; },
    color: function ( n ) {
      var red = parseInt( 2.55 * n, 10 ),
          green = parseInt( 1.27 * n, 10 ),
          blue = 255 - parseInt( 2.55 * n, 10 );

      return &#39;rgb(&#39; + [ red, green, blue ].join( &#39;,&#39; ) + &#39;)&#39;;
    },
    toFixed: function ( n, d ) { return n.toFixed( d || 1 ); }
  }
});</div>
		</div>
	</div>

	<script src="../../lib/domready.js"></script>
	<script src="../../lib/prettify.js"></script>

	<script src="../../lib/codemirror/codemirror.js"></script>
	<script src="../../lib/codemirror/javascript.js"></script>

	<!-- Dependencies -->
	<script src='http://code.jquery.com/jquery-1.9.1.min.js'></script>

	<!-- Component source -->
	<script src='../../lib/Ractive.js'></script>
	
	<!--<script src='../examples.js'></script>-->

	<script>
		domready( function () {
			var codeMirror, consolePlaceholder, consoleContainer, consoleCode, trim, code, reset, script;

			

			if ( !String.prototype.trim ) {
				String.prototype.trim = function () {
					return this.replace( /^\s*/, '' ).replace( /\s*$/, '' );
				}
			}

			script = document.getElementById( 'script' );
			code = script.textContent || script.innerText;
			

			prettyPrint();

			reset = function () {
				eval( code );
				codeMirror.setValue( consoleCode );

				CodeMirror.keyMap.default.Enter = function ( cm ) {
					var code = cm.getValue();

					try {
						eval( code );
					} catch ( err ) {
						console.error( err );
						throw err;
					}
				};
			};

			consoleContainer = document.getElementById( 'console' );
			consoleCode = consoleContainer.innerHTML.trim();
			consoleContainer.innerHTML = '';

			consolePlaceholder = document.getElementById( 'console-placeholder' );
			consolePlaceholder.parentNode.removeChild( consolePlaceholder );

			consoleContainer.style.display = 'block';

			codeMirror = new CodeMirror( consoleContainer, {
				value: consoleCode,
				mode: 'javascript',
				linenumbers: true,
				autofocus: true,
				theme: 'ractive'
			});

			document.getElementById( 'console-reset' ).addEventListener( 'click', reset );
			reset();
		});
	</script>

</body>
</html>