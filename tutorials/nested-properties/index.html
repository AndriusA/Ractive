<!doctype html>
<html>
<head>
	<meta charset='utf-8'>
	<link rel='stylesheet' href='../../min.css'>

	<title>Nested properties | Ractive examples</title>

</head>


<body>
	<div class='small-menu'>
		<p><a href='../../index.html'>Home</a> | <a href='../../tutorials'>Tutorials</a> | <a href='../../docs'>API documentation</a> | <a href='../../download'>Download</a> | <a href='https://github.com/rich-harris/Ractive'>GitHub</a></p>
	</div>

	

	<div class='tutorial-header'>
		<h2>Nested properties</h2>

		<a class='prev' href='../formatters-part-two'><span>&#9664;</span> prev</a>
		<a class='next' href='../conditional-sections'>next <span>&#9654;</span></a>
	</div>

	
	
	<div class='notes'>
		

		
		<p>Properties can be nested to arbitrary levels, using the familiar <em>dot notation</em>:</p>

<pre class='prettyprint lang-html'>
&lt;h2&gt;Hello, {{user.info.firstname}} {{user.info.lastname}}!&lt;/h2&gt;
&lt;p&gt;You have {{user.messages.unread}} unread messages.&lt;/p&gt;
</pre>

<p>(You can also use <em>array notation</em> where appropriate &ndash; <code>array[0].property</code> is equivalent to <code>array.0.property</code>. Internally, it gets converted to dot notation.)</p>


<h3>Setting nested properties</h3>

<p>If you were to update <code>user</code>, in the example above, all three mustaches would change to reflect the new data:</p>

<pre class='prettyprint lang-js'>
view.set('user', {
  info: {
    firstname: 'Tom',
    lastname: 'Selleck'
  },
  messages: {
    unread: 4
  }
});
</pre>

<p>would result in...</p>

<pre class='prettyprint lang-html'>
&lt;h2&gt;Hello, Tom Selleck!&lt;/h2&gt;
&lt;p&gt;You have 4 unread messages.&lt;/p&gt;
</pre>

<p>But if you just wanted to change the unread count, and not the name, you should use dot notation:</p>

<pre class='prettyprint lang-js'>
view.set('user.messages.unread', 3);

// if we did this, the first and last names would become `undefined`:
view.set('user', { messages: { unread: 3 } });
</pre>


<h3>Using sections to set context</h3>

<p>You can use <em>section mustaches</em> to set the context in which mustache references are evaluated. Open with a hash ('pound', if you live on the wrong side of the pond), close with a slash:</p>

<pre class='prettyprint lang-html'>{{#section}}section content goes here{{/section}}</pre> </p>

<p>So the original example could be written like so:</p>

<pre class='prettyprint lang-html'>
{{#user}}
&lt;h2&gt;Hello, {{#info}}{{firstname}} {{lastname}}{{/info}}!&lt;/h2&gt;
&lt;p&gt;You have {{messages.unread}} unread messages.&lt;/p&gt;
{{/user}}
</pre>

<p>(This may seem more verbose than just using dot notation, and in this example it is. Use whichever you feel more comfortable with in a given situation.)</p>

<p>Within a section, you can still access properties at a higher level within the <em>context stack</em>, as demonstrated below.</p>
		
	</div>

	<div class='main'>

		<div id='output' class='output block'>
			Please wait... page is loading
		</div>
		
		<pre id='template' class='template block prettyprint lang-html'>&lt;p&gt;Nested properties can only be accessed in the correct &lt;em&gt;context&lt;&#x2F;em&gt; &amp;ndash; here, the nested property can&#39;t be evaluated, so is blank:&lt;&#x2F;p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Top-level property&lt;&#x2F;strong&gt;: {{top_level_property}}&lt;&#x2F;li&gt;
  &lt;li&gt;&lt;strong&gt;Nested property&lt;&#x2F;strong&gt;: {{nested_property}}&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;

{{#yo.dawg.i.heard.you.like.recursion.so.i.put.some.properties.in.your.properties}}
  {{#so.you.can.recurse.while.you.recurse.while.you.recurse.while.you.recurse}}
    {{#while.you.recurse.while.you.recurse}}
      &lt;p&gt;But properties from higher levels in the &lt;em&gt;context stack&lt;&#x2F;em&gt; can be accessed from lower levels:&lt;&#x2F;p&gt;
      &lt;ul&gt;
        &lt;li&gt;&lt;strong&gt;Top-level property&lt;&#x2F;strong&gt;: {{top_level_property}}&lt;&#x2F;li&gt;
        &lt;li&gt;&lt;strong&gt;Nested property&lt;&#x2F;strong&gt;: {{nested_property}}&lt;&#x2F;li&gt;
      &lt;&#x2F;ul&gt;
    {{&#x2F;while.you.recurse.while.you.recurse}}
  {{&#x2F;so.you.can.recurse.while.you.recurse.while.you.recurse.while.you.recurse}}
{{&#x2F;yo.dawg.i.heard.you.like.recursion.so.i.put.some.properties.in.your.properties}}</pre>
		

		<pre id='script' class='script block prettyprint lang-js'>var recurse, view;

recurse = { while: { you: {} } };
recurse.while.you.recurse = recurse;

recurse.nested_property = &#39;Recursion is fun!&#39;;

view = new Ractive({
  el: &#39;output&#39;,
  template: $(&#39;#template&#39;).text(),
  data: {
    yo: { dawg: { i: { heard: { you: { like: { recursion: { so: { i: { put: { some: { properties: { in: { your: { properties: { so: { you: { can: { recurse: recurse } } } } } } } } } } } } } } } } } },
    top_level_property: &#39;This is a top-level property&#39;
  }
});</div>
	</div>

	<script src="../../lib/domready.js"></script>
	<script src="../../lib/prettify.js"></script>

	<script src="../../lib/codemirror/codemirror.js"></script>
	<script src="../../lib/codemirror/javascript.js"></script>

	<!-- Dependencies -->
	<script src='http://code.jquery.com/jquery-1.9.1.min.js'></script>

	<!-- Component source -->
	<script src='../../lib/Ractive.js'></script>
	
	<!--<script src='../examples.js'></script>-->

	<script>
		domready( function () {
			var codeMirror, consolePlaceholder, consoleContainer, consoleCode, trim, code, reset, script;

			

			if ( !String.prototype.trim ) {
				String.prototype.trim = function () {
					return this.replace( /^\s*/, '' ).replace( /\s*$/, '' );
				}
			}

			script = document.getElementById( 'script' );
			code = script.textContent || script.innerText;
			eval( code );

			prettyPrint();

		});
	</script>

</body>
</html>