<!doctype html>
<html>
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'>
	<link rel='stylesheet' href='../../min.css'>

	<title>SVG graphics | Tutorials | Ractive.js</title>

	<style type='text/css'>
	svg {
	max-width: 200px;
	max-height: 200px;
}

.clock line {
	stroke-linecap: round;
}

.base {
	stroke: #333;
	stroke-width: 3;
	fill: white;
}

.marker {
	stroke: #999;
	stroke-width: 2;
}

.hour {
	stroke: red;
	stroke-width: 3;
}

.minute {
	stroke: #333;
	stroke-width: 2;
}

.second {
	stroke: #333;
	stroke-width: 1;
}
	</style>
</head>


<body>
	<ul class='small-menu'>
		<li><a href='../../index.html'>Home</a></li>
		<li><a href='../../tutorials'>Tutorials</a></li>
		<li><a href='../../docs'>API docs</a></li>
		<li><a href='../../download'>Download</a></li>
		<li><a href='https://github.com/rich-harris/Ractive'>GitHub</a></li>
	</ul>

	<div class='tutorial'>

		<div class='tutorial-header'>
			<h2>SVG graphics</h2>

			<a class='prev' href='../animation'><span>&#9664;</span> prev</a>
			<a class='next' href='../'>next <span>&#9654;</span></a>
		</div>

		
		
		<div class='notes'>
			

			
			<p><span class='logo'>Ractive.js</span> supports SVG natively. This opens up some interesting possiblities:</p>
			
			<div class='console-container'>
				<div id='console-placeholder' class='console'>Please wait, page is loading...</div>
				<div id='console' class='console' style='display: none;'>
	clock.start();

				</div>
				<div id='console-reset'>reset</div>
			</div>
		</div>

		<div class='main'>

			<div id='output' class='output block'>
				Please wait... page is loading
			</div>
			
			<pre id='template' class='template block prettyprint lang-html'>&lt;svg xmlns=&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; viewBox=&#39;0 0 100 100&#39;&gt;
	
	&lt;g class=&#39;clock&#39; transform=&#39;translate(50,50)&#39;&gt;
		&lt;circle class=&#39;base&#39; r=&#39;48&#39;&gt;&lt;&#x2F;circle&gt;

		&lt;!-- create markers at five minute intervals --&gt;
		{{#markers:i}}
		&lt;line class=&#39;marker&#39; x1=&#39;40&#39; y1=&#39;0&#39; x2=&#39;45&#39; y2=&#39;0&#39;
			transform=&#39;rotate({{i | times[30]}})&#39;&gt;
		{{&#x2F;markers}}

		&lt;!-- hour hand --&gt;
		&lt;line class=&#39;hour&#39; x1=&#39;0&#39; y1=&#39;0&#39; x2=&#39;0&#39; y2=&#39;-25&#39;
			transform=&#39;rotate({{time | getHour | times[30]}})&#39;&#x2F;&gt;

		&lt;!-- minute hand --&gt;
		&lt;line class=&#39;minute&#39; x1=&#39;0&#39; y1=&#39;0&#39; x2=&#39;0&#39; y2=&#39;-38&#39;
			transform=&#39;rotate({{time | getMinute | times[6]}})&#39;&#x2F;&gt;

		&lt;!-- second hand --&gt;
		&lt;line class=&#39;second&#39; x1=&#39;0&#39; y1=&#39;0&#39; x2=&#39;0&#39; y2=&#39;-43&#39;
			transform=&#39;rotate({{time | getSecond | times[6]}})&#39;&#x2F;&gt;
	&lt;&#x2F;g&gt;

&lt;&#x2F;svg&gt;</pre>
			

			<pre id='script' class='script block prettyprint lang-js'>var Clock, clock;

Clock = Ractive.extend({
	template: $(&#39;#template&#39;).text(),
	data: { markers: new Array(12), time: new Date() },
	formatters: {
		getHour:   function ( date ) { return date.getHours()   + ( date.getMinutes() &#x2F; 60 ); },
		getMinute: function ( date ) { return date.getMinutes() + ( date.getSeconds() &#x2F; 60 ); },
		getSecond: function ( date ) { return date.getSeconds(); },
		times: function ( v, m ) { return m * v; }
	},
	tick: function () {
		var self = this;

		if ( this.running ) {
			this.set( &#39;time&#39;, new Date() );
		}

		&#x2F;&#x2F; wait a second, then do it again
		setTimeout( function () { self.tick(); }, 1000 );
	},
	start: function () {
		this.running = true;
		this.tick();
	},
	stop: function () {
		this.running = false;
	}
});

clock = new Clock({ el: &#39;output&#39; });</div>
		</div>
	</div>

	<script src="../../lib/domready.js"></script>
	<script src="../../lib/prettify.js"></script>

	<script src="../../lib/codemirror/codemirror.js"></script>
	<script src="../../lib/codemirror/javascript.js"></script>

	<!-- Dependencies -->
	<script src='../../lib/jquery.js'></script>

	<!-- Component source -->
	<script src='../../lib/Ractive.js'></script>
	
	<!--<script src='../examples.js'></script>-->

	<script>
		domready( function () {
			var codeMirror, consolePlaceholder, consoleContainer, consoleCode, trim, code, reset, script;

			

			if ( !String.prototype.trim ) {
				String.prototype.trim = function () {
					return this.replace( /^\s*/, '' ).replace( /\s*$/, '' );
				}
			}

			script = document.getElementById( 'script' );
			code = script.textContent || script.innerText;
			

			prettyPrint();

			reset = function () {
				eval( code );
				codeMirror.setValue( consoleCode );

				CodeMirror.keyMap.default.Enter = function ( cm ) {
					var code = cm.getValue();

					try {
						eval( code );
					} catch ( err ) {
						console.error( err );
						throw err;
					}
				};
			};

			consoleContainer = document.getElementById( 'console' );
			consoleCode = consoleContainer.innerHTML.trim();
			consoleContainer.innerHTML = '';

			consolePlaceholder = document.getElementById( 'console-placeholder' );
			consolePlaceholder.parentNode.removeChild( consolePlaceholder );

			consoleContainer.style.display = 'block';

			codeMirror = new CodeMirror( consoleContainer, {
				value: consoleCode,
				mode: 'javascript',
				linenumbers: true,
				autofocus: true,
				theme: 'ractive'
			});

			document.getElementById( 'console-reset' ).addEventListener( 'click', reset );
			reset();
		});
	</script>

</body>
</html>