<!doctype html>
<html lang='en'>
<head>
	<meta charset='utf-8'>
	<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
	<title>Ractive.js • TodoMVC</title>
	<link rel='stylesheet' href='todomvc-base/base.css'>
</head>

<body>
	<section id='todoapp'></section>
	<footer id='info'>
		<p>Double-click to edit a todo</p>
		
		<p>Created by <a href='http://rich-harris.co.uk'>Rich Harris</a></p>
		<p>Part of <a href='http://todomvc.com'>TodoMVC</a></p>
	</footer>

	<!-- Templates -->
	<script id='main' type='text/ractive'>
		<header id='header'>
			<h1>todos</h1>
			<input id='new-todo' proxy-change='new_todo' placeholder='What needs to be done?' autofocus>
		</header>
		
		{{#items.length}}
			<section id='main'>
				<input id='toggle-all' type='checkbox' proxy-change='toggle_all' checked='{{ items.length === items.filter( completed ).length }}'>
				<label for='toggle-all'>Mark all as complete</label>
				<ul id='todo-list'>
					{{#items:i}}
						{{>item}}
					{{/items}}
				</ul>
			</section>

			<!-- This footer should hidden by default and shown when there are todos -->
			<footer id='footer'>
				<span id='todo-count'>
					<strong>{{ items.filter( active ).length }}</strong> {{ items.filter( active ).length === 1 ? 'item' : 'items' }} left
				</span>
				
				<ul id='filters'>
					<li>
						<a class='{{ currentFilter === "all" ? "selected" : "" }}' href='#/'>All</a>
					</li>
					<li>
						<a class='{{ currentFilter === "active" ? "selected" : "" }}' href='#/active'>Active</a>
					</li>
					<li>
						<a class='{{ currentFilter === "completed" ? "selected" : "" }}' href='#/completed'>Completed</a>
					</li>
				</ul>

				<!-- Hidden if no completed items are left ↓ -->
				{{# items.filter( completed ).length }}
					<button id='clear-completed' proxy-tap='clear_completed'>
						Clear completed ({{ items.filter( completed ).length }})
					</button>
				{{/ end filter }}
			</footer>
		{{/items.length}}
	</script>

	<script id='item' type='text/ractive'>
		{{# filter( (.), currentFilter ) }}
		<li intro='slide' outro='slide' class='{{ completed ? "completed" : "" }} {{ editing ? "editing" : "" }}'>
			<div class='view'>
				<input class='toggle' type='checkbox' checked='{{completed}}'>
				<label proxy-dblclick='edit'>{{description}}</label>
				<button proxy-tap='remove:{{i}}' class='destroy'></button>
			</div>

			{{#.editing}}
				<input intro='select' class='edit' value='{{description}}' proxy-blur-enter='submit'>
			{{/.editing}}
		</li>
		{{/ end of filter }}
	</script>

	<!-- Scripts here. Don't remove this ↓ -->
	<script src='todomvc-base/base.js'></script>
	<script src='Ractive-legacy.js'></script>
	
	<!--<script src='js/TodoList.js'></script>-->
	<script src='js/app.js'></script>
	<script src='js/routes.js'></script>
</body>
</html>
